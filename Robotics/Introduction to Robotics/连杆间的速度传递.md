#连杆间的速度传递

连杆$i+1$的速度就是连杆$i$的速度加上那些附加到关节$i+1$的新的速度分量。注意线速度是相对于一点的的，而角速度是相对于一个物体的，因此，“连杆的速度”指的是连杆坐标系原点的线速度和连杆的角速度。

![连杆的速度](image/连杆的速度.png)

如上图所示，将机构的每一个连杆看作为一个刚体，可以用线速度矢量和角速度矢量描述其运动。可以用连杆坐标系本身描述这些速度，而不用基坐标系。

当两个$w$矢量都是相对于同一个坐标系时，那么这些角速度能够相加。因此，连杆$i+1$的角速度等于连杆$i$的角速度加上一个由于关节$i+1$的角速度引起的分量。这个关系可以写成
$$
^iw_{i+1}=^iw_i+  _{i+1} ^i R \dot \theta _{i+1} \  ^{i+1}\widehat Z_{i+1}  
\tag{5-43}
$$

其中
$$
\dot \theta_{i+1}   \  ^{i+1}\widehat Z_{i+1}=^{i+1}
\left [
\begin{matrix}
0 \\
0\\
\dot\theta_{i+1}
\end{matrix}
\right]
\tag{5-44}
$$
![相连杆的速度矢量](image\相邻连杆的速度矢量.png)

如上图所示，连杆{i+1}的角速度等于连杆{i+1}的旋转速度加上连杆{i}的附加旋转分量，这需要把坐标系{i+1}的旋转变换为坐标系{i}中的描述，这两个角速度才能够相加。

方程（5-43）两边同时左乘$^{i+1}_{i}R$，可以得到连杆{i+1}的角速度相对于坐标系{i+1}的表达式
$$
^{i+1}w_{i+1}=^{i+1}_iR \ ^iw_i+\dot\theta_{i+1}\ ^{i+1}\widehat Z_{i+1}
\tag{5-45}
$$
坐标系{i+1}原点的线速度等于坐标系{i}原点的线速度加上一个由于连杆i的角速度引起的新的分量。这与上一篇博文《速度与矢量的微分》的式（5-13）描述的情况完全相同。由于$^iP_{i+1}$在坐标系{i}中是常数，所以其中一项就消失了。因此有
$$
i^v_{i+1}=^iv_i+^iw_{i}\times ^iP_{i+1}
\tag{5-46}
$$
两边同时左乘$^{i+1}_iR$，得到
$$
^{i+1}v_{i+1}=^{i+1}_iR(^iv_i+^iw_i\times^iP_{i+1})
\tag{5-47}
$$
另外对于关节{i+1}为移动关节时，相应的关系为
$$
^{i+1}w_{i+1}=^{i+1}_iR\  ^iw_i \\
^{i+1}v_{i+1}=^{i+1}_iR(^iv_i+^iw_i\times ^iP_{i+1})+\dot d_{i+1}\ ^{i+1}\widehat Z_{i+1}
\tag{5-48}
$$
从一个连杆到下一个连杆依次利用上面的速度传递公式，可以计算出随后一个连杆的角速度$^Nw_N$和线速度$^Nv_N$。如果利用基座标来表达角速度和线速度的话，就可以用$^0_NR$去左乘速度，向极坐标系进行旋转变换。



参考文献

[1] JOHN J.CRAIG. 机器人学导论: 第3版[M]. 机械工业出版社, 2006.