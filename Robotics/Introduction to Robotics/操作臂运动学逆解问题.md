# 操作臂运动学逆解问题

求解操作臂运动学方程是一个非线性问题。已知$^0_NT$的数值，试图求出$\theta_1, \theta_2, ..., \theta_3$。对于PUMA560操作臂，逆问题确切表述为：已知$^0_6T$的16个数值（其中4个无意义），求解式（3.14）的6个关节角$\theta_1$ ~ $\theta_6$。



<center>

<img src="image\PUMA560的运动方程.png">

## 常用的变换

运行学逆问题可以用代数法、几何法或代数法和几何法相结合。使用余弦矩阵表示运行学问题，求解是会涉及到超越方程，往往很难解。它一般以$\sin \theta$和$\cos\theta$的形式出现。可进行下列变换，用单一变量$u$来表示：
$$
\begin{align}
u=\tan\frac{\theta}{2} \\
\cos\theta=\frac{1-u^2}{1+u^2} \\
\sin\theta=\frac{2u}{1+u^2}
\end{align}
\tag{4-35}
$$
这是在求解运动学方程中经常使用的一种很重要的几何变换方法。这个变换把超越方程变换成关于$u$的多项式方程。

例如，下面的超越方程
$$
a\cos\theta+b\sin\theta=c  \\
\tag{4-36}
$$
可以变换成含有半角正切的一次多项式，以求解$\theta$。

采用（4-35）的变换式，将上式乘以$1+u^2$，得
$$
a(1-u^2)+2bu=c(1+u^2) \\
\tag{4-37}
$$
即
$$
(a+c)u^2-2bu+(c-a)=0\\
\tag{4-38}
$$
由一元二次方程求解公式解出：
$$
u=\frac{b\pm \sqrt{b^2+a^2-c^2}}{a+c}\\
\tag{4-39}
$$
因此，
$$
\theta=2\tan^{-1}
\left( 
\frac{b\pm \sqrt{b^2+a^2-c^2}}{a+c} 
\right)
\tag{4-40}
$$
四次多项式具有封闭形式的解。所以用4阶（或低于4阶）的代数方程求解操作臂是相当简单的，这种操作臂被称为封闭解操作臂。

## 三轴相交的pieper解法




$$
\begin {array}{}
c_{12}=c_1c_2-s_1s_2  \\
s_{12}=c_1s_2+s_1c_2  
\end {array}
 \tag{4-13}
$$








$$
c_{12}^2+s_{12}^2=c_1^2c_2^2-2c_1c_2s_1s_2+s_1^2s_2^2+c_1^2s_2^2+2c_1s_2s_1c_2+s_1^2c_2^2=1
$$
