# C语言的格式化输出转换说明、修饰符和标记详解

<center>

<img src="image\梦想引领人生.jpg" width="500">

*图片来源-[百度图片](https://image.baidu.com/search/detail?ct=503316480&z=0&ipn=d&word=%E6%A2%A6%E6%83%B3&step_word=&hs=0&pn=3&spn=0&di=150300281450&pi=0&rn=1&tn=baiduimagedetail&is=0%2C0&istype=0&ie=utf-8&oe=utf-8&in=&cl=2&lm=-1&st=undefined&cs=2366401152%2C2696232514&os=2408945041%2C1712717274&simid=4258107335%2C794294963&adpicid=0&lpn=0&ln=1941&fr=&fmq=1497050756675_R&fm=&ic=undefined&s=undefined&se=&sme=&tab=0&width=undefined&height=undefined&face=undefined&ist=&jit=&cg=&bdtype=0&oriquery=&objurl=http%3A%2F%2Fpic50.nipic.com%2Ffile%2F20141021%2F10841271_103436803000_2.jpg&fromurl=ippr_z2C%24qAzdH3FAzdH3Fooo_z%26e3Bgtrtv_z%26e3Bv54AzdH3Ffi5oAzdH3F888lmc9m_z%26e3Bip4s&gsm=0&rpstart=0&rpnum=0)*

</center>

<center>

表1 转换说明及其打印的输出结果

</center>

| 转换说明  | 输出                                     |
| ----- | -------------------------------------- |
| %a,%A | 浮点数、十六进制数和p计数法(C99/C11)                |
| %c    | 一个字符                                   |
| %d    | 有符号十进制数                                |
| %e,%E | 浮点数,e计数法                               |
| %f    | 浮点数，十进制计数法                             |
| %g,%G | 根据数值不同自动选择%f或%e,%e格式在指数小于-4或者大于等于精度时使用 |
| %i    | 有符号十进制整数(与%d相同)                        |
| %o    | 无符号八进制整数                               |
| %p    | 指针                                     |
| %s    | 字符串                                    |
| %u    | 无符号十进制数                                |
| %x,%X | 使用十六进制数0f的无符号十六进制整数                    |
| %%    | 打印一个百分号                                |



<center>

表2 printf()的修饰符

</center>

| 修饰符  | 意义                                       |
| ---- | ---------------------------------------- |
| 标志   | 五种标志将在后面的表2中说明,可以使用零个或者多个标志，示例: "%-10d"  |
| 数字   | 字段宽度的最小值。如果字段不能容纳要打印的数或者字符串，系统会使用更宽的字段示例: "%4d"，“%10s” |
| .数字  | 精度      对于%e,%E和%f转换，是将要在小数点的右边打印的数字的位数。对于%g和%G转换，是有效数字的最大位数。对于%s转换，是将要打印的字符的最大数目。对于整数转换，是将要打印的数字的最小位数。如果必要，要使用前导0来达到位数。只使用"."表示其后跟随一个0，所以%.f和%.0f相同。示例: “%5.2f”表示打印一个浮点数，它的字段宽度为5个字符，小数点后有两个数字 |
| h    | 和整数转换说明符一起使用，表示一个short int或unsigned short int类型数值。示例: “%hu”, "%hx", "%6.4hd" |
| hh   | 和证书转换说明符一起使用，表示一个signed char或unsigned char类型数值 |
| j    | 和整数转换说明符一起使用，表示一个intmax_t或uintmax_t值示例: "%jd","%8jx" |
| l    | 和整数转换说明符一起使用，表示一个long int或unsigned long int类型值 |
| ll   | 和整数转换说明符一起使用，表示一个long long int或unsigned long long int类型值(C99)示例: "%lld","%8llu" |
| L    | 和浮点数转换说明符一起使用，表示一个long double值示例: "%Lf", "%10.4Le" |
| t    | 和整数转换说明符一起使用，表示一个ptrdiff_t值(与两个指针之间的差相对应的类型)(C99)。示例: "%td", "%1ti" |
| z    | 和整数转换说明符一起使用，表示一个size_t值(sizeof返回的类型)(C99)。示例: "%zd","%12zx" |

<center>

printf()中的标记

</center>

| 标志   | 意义                                       |
| ---- | ---------------------------------------- |
| -    | 项目左对齐，即，会把项目打印在字段的左侧开始处。示例: "%-20s"      |
| +    | 有符号的值若为正，则显示带加号的符号；若为负，则显示带减号的符号。示例: "%+6.2f" |
| (空格) | 有符号的值若为正，则显示时带前导空格(但是不显示符号);若为负，则带减号符号。+标志会覆盖空格标志。示例: "% 6.2f" |
| #    | 使用转换说明的可选形式。若为%o格式，则以0开始；若为%x和%Xgeshi ,则以0x或0X开始。对于所有的浮点形式，#保证了即使不跟任何数字，也打印一个小数点字符。对于%g和%G格式，它防止尾随0被删除。示例: "%#o", "%#8.0f", "%+#10.3E" |
| 0    | 对于所有的数字格式，用前导零而不是空格填充字段宽度。如果出现-标志或者指定了精度(对于整数)则忽略该标志。示例: "%010d", "%08.3f","%02X" |



----

参考资料

 史蒂芬・普拉达. C Primer Plus (第6版) 中文版[M]. 人民邮电出版社, 2016.